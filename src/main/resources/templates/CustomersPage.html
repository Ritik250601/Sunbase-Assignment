<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">

<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- DataTables CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap5.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.20/dist/sweetalert2.min.css">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.20/dist/sweetalert2.min.css">


    <!--    <link rel="stylesheet"-->
<!--          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css" />-->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <!-- DataTables JS -->
    <script type="text/javascript" src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap5.min.js"></script>
</head>
<body>
<div class="container mt-5">
    <div class="mb-3">
        <a th:href="@{/create-customer-page}" class="btn btn-primary">Add Customer
        </a>
    </div>

    <div class="box-body">
            <div class="main-card mb-3 card">
                <div class="card-header text-center">
                    <h4>Customer List</h4>
             </div>
                <div class="card-body">

        <table id="myTable"
            class="table table-bordered table-responsive-xl table-hovered"
            cellspacing="0" cellpadding="0" width="100%">

            <thead class="thead-light">
            <tr>
                <th class="text-center fs-6">First Name</th>
                <th class="text-center">Last Name</th>
                <th class="text-center">Address</th>
                <th class="text-center">City</th>
                <th class="text-center">State</th>
                <th class="text-center">Email</th>
                <th class="text-center">Phone</th>
                <th class="text-center">Action</th>
            </tr>
            </thead>
            <tfoot class="thead-light">
            <tr>
                <th colspan="8">&nbsp;</th>
            </tr>
            </tfoot>
            <tbody>
            <tr th:each="customer : ${customerList}">
                <td th:text="${customer.firstName}"></td>
                <td th:text="${customer.lastName}"></td>
                <td th:text="${customer.address}"></td>
                <td th:text="${customer.city}"></td>
                <td th:text="${customer.state}"></td>
                <td th:text="${customer.email}"></td>
                <td th:text="${customer.phone}"></td>
                <td >     <a th:href="@{/delete-customer/{uuid}(uuid=${customer.uuid})}" class="mx-3"><i class="far fa-trash-alt"></i></a>
                    <a th:href="@{/update-customer-page/{uuid}(uuid=${customer.uuid})}"><i class="far fa-edit"></i>
                    </a>
                </td>

            </tr>
            </tbody>
        </table>

                </div>
            </div>
        </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
<script>
  $(document).ready(function() {
    $('#myTable').DataTable();
  });
</script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.20/dist/sweetalert2.min.js"></script>


<script>

            var message1 = "[[${successMsg}]]"
            var message2 = "[[${errorMsg}]]";




        // Check if message is not empty and display SweetAlert
        if (message1.trim() !== '') {
            Swal.fire({
                icon: 'success',
                title: message1,
                showConfirmButton: false,
                timer: 2000
            });
        }

        if (message2.trim() !== '') {
            Swal.fire({
                icon: 'error',
                title: message2,
                showConfirmButton: false,
                timer: 2000
            });
        }
    </script>
</body>
</html>